# Интеграция внешних сервисов в MUSE

## Обзор

MUSE интегрируется с тремя внешними сервисами: GitLab, Rocket.Chat и ownCloud/Nextcloud. Интеграция реализована через веб-браузинг с использованием браузерной автоматизации.

## GitLab

### Реализация интеграции
- **URL сервиса**: `http://the-agent-company.com:8929`
- **Учетные данные**: 
  - Email: `root@local`
  - Пароль: `theagentcompany`
- **Тип интеграции**: Веб-браузинг через модуль `browser.py`
- **Функциональность**:
  - Просмотр репозиториев
  - Создание и обновление задач (issues)
  - Работа с проектами
  - Управление кодом и системой контроля версий

### Используемые инструменты
- `browser_go_to_url()` - для перехода на страницу GitLab
- `browser_input_text()` - для ввода учетных данных
- `browser_click()` - для навигации по интерфейсу
- `access_the_application_guide()` - для получения инструкций по работе с GitLab

### Примеры задач
- `pm-update-plane-issue-from-gitlab-status` - обновление задач в Plane на основе статуса в GitLab
- `sde-create-commit-table-for-all-gitlab-users` - создание таблицы коммитов для всех пользователей GitLab
- `pm-ask-for-issue-and-create-in-gitlab` - создание задачи в GitLab

## Rocket.Chat

### Реализация интеграции
- **URL сервиса**: `http://the-agent-company.com:3000`
- **Учетные данные**:
  - Email: `theagentcompany`
  - Пароль: `theagentcompany`
- **Тип интеграции**: Веб-браузинг через модуль `browser.py`
- **Функциональность**:
  - Отправка сообщений коллегам и менеджерам
  - Просмотр каналов и чатов
  - Общение в корпоративной среде

### Используемые инструменты
- `browser_go_to_url()` - для перехода на страницу Rocket.Chat
- `browser_input_text()` - для ввода учетных данных
- `browser_click()` - для навигации по интерфейсу
- `access_the_application_guide()` - для получения инструкций по работе с Rocket.Chat

### Примеры задач
- Отправка ссылки на презентацию в OwnCloud менеджеру по HR
- Коммуникация с коллегами по поводу задач и проектов

## ownCloud/Nextcloud

### Реализация интеграции
- **URL сервиса**: `http://the-agent-company.com:8092`
- **Учетные данные**:
  - Имя пользователя: `theagentcompany`
  - Пароль: `theagentcompany`
- **Тип интеграции**: Веб-браузинг через модуль `browser.py`
- **Функциональность**:
  - Хранение и поиск отчетов
  - Управление документами
  - Обмен файлами
  - Хранение презентаций и других корпоративных материалов

### Используемые инструменты
- `browser_go_to_url()` - для перехода на страницу OwnCloud
- `browser_input_text()` - для ввода учетных данных
- `browser_click()` - для навигации по интерфейсу
- `browser_upload_file()` - для загрузки файлов
- `access_the_application_guide()` - для получения инструкций по работе с OwnCloud

### Примеры задач
- Поиск и чтение отчетов
- Сохранение презентаций (например, `/Documents/Human Resources Team/Internal_Tooling_Training.pptx`)
- Обмен файлами с коллегами

## Архитектура интеграции

### Веб-браузинг
- Используется библиотека `browser-use` для автоматизации браузерных действий
- Доступны инструменты для:
  - Навигации по страницам
  - Ввода текста
  - Кликов по элементам
  - Загрузки и выгрузки файлов
  - Скроллинга
  - Работы с вкладками

### Система памяти
- В `memory/procedural_memory.json` хранятся инструкции по работе с приложениями
- Инструмент `access_the_application_guide()` предоставляет доступ к этим инструкциям
- Интеграция с GitLab, Rocket.Chat и OwnCloud включена в систему памяти для повторного использования успешных сценариев

### Учетные данные
- Учетные данные для всех сервисов хранятся в системных промптах
- Учетные данные не хранятся в отдельных конфигурационных файлах, а вшиты в промпты

### Безопасность
- Все взаимодействия происходят через веб-интерфейсы
- Используются фиксированные учетные данные для тестовой среды
- В реальных условиях рекомендуется использовать более безопасные методы аутентификации

## Примеры использования в задачах

В файле `demo.py` содержится пример задачи, включающей все три сервиса:
- Создание презентации о внутренних инструментах компании
- Использование информации из OwnCloud (TAC_overview.md)
- Описание функциональности RocketChat, GitLab, OwnCloud и Plane
- Публикация презентации в OwnCloud
- Уведомление HR-менеджера в RocketChat о новой презентации
- Работа с репозиториями и задачами в GitLab

## Заключение

Интеграция с внешними сервисами реализована через веб-браузинг с использованием автоматизированных браузерных действий. Это позволяет MUSE взаимодействовать с любыми веб-приложениями без необходимости реализации специфичных API-интеграций. Система памяти позволяет сохранять и повторно использовать успешные сценарии работы с этими сервисами.